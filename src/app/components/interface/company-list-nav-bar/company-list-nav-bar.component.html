<section>
    <div class="top_project_info_container">
        <p>TaskTalk</p>
    </div>
    <div class="company_container">
        @for (company of companyList; track company.id) {
            <div class="item_relative_container">
                <div (contextmenu)="openContextMenu($event, company)" (click)="selectCompany(company.id)" [ngClass]="{'right_setect_company': this.currentContextMenuCompany == company}" class="item_company">
                    {{company.shortName}}
                </div>
                @if (this.currentContextMenuCompany == company) {
                    <div #contextMenu class="context_menu_container">
                        <div class="company_name_context_menu">
                            {{this.currentContextMenuCompany.name | uppercase}}
                        </div>
                        <ul>
                            <li (click)="navigateTo(this.currentContextMenuCompany.id, 'settings')">
                                <p>Server settings</p>
                                <svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="16"><path d="M12,8a4,4,0,1,0,4,4A4,4,0,0,0,12,8Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,14Z"/><path d="M21.294,13.9l-.444-.256a9.1,9.1,0,0,0,0-3.29l.444-.256a3,3,0,1,0-3-5.2l-.445.257A8.977,8.977,0,0,0,15,3.513V3A3,3,0,0,0,9,3v.513A8.977,8.977,0,0,0,6.152,5.159L5.705,4.9a3,3,0,0,0-3,5.2l.444.256a9.1,9.1,0,0,0,0,3.29l-.444.256a3,3,0,1,0,3,5.2l.445-.257A8.977,8.977,0,0,0,9,20.487V21a3,3,0,0,0,6,0v-.513a8.977,8.977,0,0,0,2.848-1.646l.447.258a3,3,0,0,0,3-5.2Zm-2.548-3.776a7.048,7.048,0,0,1,0,3.75,1,1,0,0,0,.464,1.133l1.084.626a1,1,0,0,1-1,1.733l-1.086-.628a1,1,0,0,0-1.215.165,6.984,6.984,0,0,1-3.243,1.875,1,1,0,0,0-.751.969V21a1,1,0,0,1-2,0V19.748a1,1,0,0,0-.751-.969A6.984,6.984,0,0,1,7.006,16.9a1,1,0,0,0-1.215-.165l-1.084.627a1,1,0,1,1-1-1.732l1.084-.626a1,1,0,0,0,.464-1.133,7.048,7.048,0,0,1,0-3.75A1,1,0,0,0,4.79,8.992L3.706,8.366a1,1,0,0,1,1-1.733l1.086.628A1,1,0,0,0,7.006,7.1a6.984,6.984,0,0,1,3.243-1.875A1,1,0,0,0,11,4.252V3a1,1,0,0,1,2,0V4.252a1,1,0,0,0,.751.969A6.984,6.984,0,0,1,16.994,7.1a1,1,0,0,0,1.215.165l1.084-.627a1,1,0,1,1,1,1.732l-1.084.626A1,1,0,0,0,18.746,10.125Z"/></svg>
                            </li>
                            <li class="li_invite_users">
                                <p>Invite users</p>
                                <svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="16"><path d="M23,11H21V9a1,1,0,0,0-2,0v2H17a1,1,0,0,0,0,2h2v2a1,1,0,0,0,2,0V13h2a1,1,0,0,0,0-2Z"/><path d="M9,12A6,6,0,1,0,3,6,6.006,6.006,0,0,0,9,12ZM9,2A4,4,0,1,1,5,6,4,4,0,0,1,9,2Z"/><path d="M9,14a9.01,9.01,0,0,0-9,9,1,1,0,0,0,2,0,7,7,0,0,1,14,0,1,1,0,0,0,2,0A9.01,9.01,0,0,0,9,14Z"/></svg>
                            </li>
                            <li>
                                <p>Create catalog</p>
                                <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="16"><path d="M19,0H5C2.24,0,0,2.24,0,5v14c0,2.76,2.24,5,5,5h14c2.76,0,5-2.24,5-5V5c0-2.76-2.24-5-5-5ZM5,2h14c1.65,0,3,1.35,3,3v4H2V5c0-1.65,1.35-3,3-3Zm14,20H5c-1.65,0-3-1.35-3-3V11H22v8c0,1.65-1.35,3-3,3Zm0-4c0,.55-.45,1-1,1H6c-.55,0-1-.45-1-1s.45-1,1-1h12c.55,0,1,.45,1,1Zm0-4c0,.55-.45,1-1,1H6c-.55,0-1-.45-1-1s.45-1,1-1h12c.55,0,1,.45,1,1ZM13.53,5.31c-.48-.48-.14-1.31,.54-1.31h4.87c.69,0,1.03,.83,.54,1.31l-2.44,2.23c-.3,.3-.79,.3-1.09,0l-2.44-2.23Z"/></svg>
                            </li>
                            <li>
                                <p>Create channel</p>
                                <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="16"><path d="m23.34,9.481l-3.5-6c-.893-1.53-2.548-2.481-4.319-2.481h-7.069c-1.771,0-3.427.951-4.319,2.481L.632,9.481c-.905,1.553-.905,3.483,0,5.038l3.501,6c.893,1.53,2.547,2.48,4.318,2.48h7.069c1.771,0,3.426-.95,4.319-2.48l3.5-6.001c.905-1.554.905-3.484,0-5.038Zm-1.729,4.031l-3.499,6c-.536.918-1.529,1.488-2.592,1.488h-7.069c-1.062,0-2.056-.57-2.591-1.488l-3.5-5.999c-.544-.933-.544-2.092,0-3.024l3.5-6c.535-.918,1.528-1.489,2.591-1.489h7.069c1.062,0,2.056.57,2.591,1.489l3.5,6c.544.933.544,2.091,0,3.023Zm-4.611-1.512c0,.552-.447,1-1,1h-3v3c0,.553-.447,1-1,1s-1-.447-1-1v-3h-3c-.553,0-1-.448-1-1s.447-1,1-1h3v-3c0-.552.447-1,1-1s1,.448,1,1v3h3c.553,0,1,.448,1,1Z"/></svg>
                            </li>
                        </ul>
                        
                    </div>
                }
            </div>
        }
        <div (click)="companyAddOrJoin()" class="item_company_add">
            <svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="25" height="25"><path d="M17,11H13V7a1,1,0,0,0-1-1h0a1,1,0,0,0-1,1v4H7a1,1,0,0,0-1,1H6a1,1,0,0,0,1,1h4v4a1,1,0,0,0,1,1h0a1,1,0,0,0,1-1V13h4a1,1,0,0,0,1-1h0A1,1,0,0,0,17,11Z"/></svg>
        </div>
        <!-- @if (this.isContextMenuOpen) {
            <div #contextMenu [style.left.px]="contextMenuX" [style.top.px]="contextMenuY" class="context_menu_container">
                XDDD
            </div>
        } -->
    </div>
</section>