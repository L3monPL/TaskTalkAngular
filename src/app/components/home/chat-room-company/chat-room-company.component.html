<div class="chat_container">
    <!-- <button [disabled]="this.isDuplicateMessage" (click)="loadMoreMessages()">Load More</button> -->
    <div class="chat_top_header_container">
        <div class="chat_room_name">
            Nazwa kanału chatowego
        </div>
        <div class="row_header_container">
            <div class="users_icon_info">
                <svg id="Layer_1" viewBox="0 0 24 24" width="17" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><path d="m7.5 13a4.5 4.5 0 1 1 4.5-4.5 4.505 4.505 0 0 1 -4.5 4.5zm0-7a2.5 2.5 0 1 0 2.5 2.5 2.5 2.5 0 0 0 -2.5-2.5zm7.5 17v-.5a7.5 7.5 0 0 0 -15 0v.5a1 1 0 0 0 2 0v-.5a5.5 5.5 0 0 1 11 0v.5a1 1 0 0 0 2 0zm9-5a7 7 0 0 0 -11.667-5.217 1 1 0 1 0 1.334 1.49 5 5 0 0 1 8.333 3.727 1 1 0 0 0 2 0zm-6.5-9a4.5 4.5 0 1 1 4.5-4.5 4.505 4.505 0 0 1 -4.5 4.5zm0-7a2.5 2.5 0 1 0 2.5 2.5 2.5 2.5 0 0 0 -2.5-2.5z"/></svg>
                32
            </div>
        </div>
    </div>
    <div #scrollContainer (scroll)="onScroll($event)" class="messages_container">
        @for (item of this.messages; track item.id) {
            @if (messageWithIcon(item)) {
                <div [ngClass]="{'message_item_current_user': item.userId == this.userDataService.getId(), 'margin_bottom_message': item.userId != this.userDataService.getId()}" class="message_item margin_bottom_message">
                    @if (item.userId != this.userDataService.getId()) {
                        <div class="user_icon">
    
                        </div>
                    }
                    <div class="chat_container_item">
                        @if (messageWithUsername(item)) {
                            @if (item.userId != this.userDataService.getId()) {
                                <div class="username_item">
                                    {{item.username}}
                                </div>
                            }
                        }
                        <div class="message_container">
                            {{item.message}}
                        </div>
                    </div>
    
                </div>
            }
            @if (messageWithoutIcon(item)) {
                <div [ngClass]="{'message_item_current_user': item.userId == this.userDataService.getId()}" class="message_item margin_left_message">
                    <div class="chat_container_item">
                        @if (messageWithUsername(item)) {
                            @if (item.userId != this.userDataService.getId()) {
                                <div class="username_item">
                                    {{item.username}}
                                </div>
                            }
                        }
                        <div class="message_container">
                            {{item.message}}
                        </div>
                    </div>
    
                </div>
            }
        }
    </div>
    <div class="inputs">
        <input [(ngModel)]="this.inputMessage" (keyup.enter)="sendMessage()" type="text" placeholder="Wiadomość...">
        <!-- <button (click)="this.sendMessage()">wyślij</button> -->
    </div>
</div>
